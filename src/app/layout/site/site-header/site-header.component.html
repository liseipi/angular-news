<section class="background-radial-gradient container-full dark:bg-neutral-800 shadow-[0_2px_16px_rgba(54,56,79,.06)]">
  <header class="container max-w-screen-xl w-full mx-auto">
    <!-- Navbar -->
    <div
      class="relative flex w-full items-center justify-between bg-white py-4 dark:bg-neutral-800 lg:flex-wrap lg:justify-start"
      data-te-navbar-ref>
      <!-- Container wrapper -->
      <div class="flex w-full flex-wrap items-center justify-between px-6">
        <div class="flex items-center">
          <!-- Toggle button -->
          <button
            class="block border-0 bg-transparent py-2 pr-2.5 text-neutral-500 hover:no-underline hover:shadow-none focus:no-underline focus:shadow-none focus:outline-none focus:ring-0 dark:text-neutral-200 lg:hidden"
            type="button" data-te-collapse-init data-te-target="#navbarSupportedContentY"
            aria-controls="navbarSupportedContentY" aria-expanded="false" aria-label="Toggle navigation">
          <span class="[&>svg]:w-7">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="h-7 w-7">
              <path fill-rule="evenodd"
                    d="M3 6.75A.75.75 0 013.75 6h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 6.75zM3 12a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 12zm0 5.25a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75a.75.75 0 01-.75-.75z"
                    clip-rule="evenodd"/>
            </svg>
          </span>
          </button>

          <!-- Navbar Brand -->
          <a class="text-primary dark:text-primary-400 flex mr-4 items-center" href="#!">
          <span class="[&>svg]:ml-2 [&>svg]:mr-3 [&>svg]:h-6 [&>svg]:w-6 [&>svg]:lg:ml-0">
            <img ngSrc="assets/logo.svg" class="w-12" alt="logo" height="420" width="420">
          </span>
            <strong class="text-xl ml-2 text-brandColor">共享资讯</strong>
          </a>
        </div>

        <div class="relative">
          <div class="relative flex w-full flex-wrap items-stretch">
            <input
              type="search"
              id="search"
              #searchInput
              class="relative m-0 -mr-0.5 block w-[20rem] min-w-0 flex-auto rounded-none border border-solid border-neutral-300 bg-transparent bg-clip-padding px-3 py-[0.25rem] text-base font-normal leading-[1.6] text-neutral-700 outline-none transition-all duration-200 ease-in-out focus:z-[3] focus:border-brandColor focus:text-neutral-700 focus:shadow-[inset_0_0_0_1px_#e44f51] focus:outline-none focus:w-[25rem] dark:border-neutral-200 dark:text-neutral-100 dark:placeholder:text-neutral-200 dark:focus:border-brandColor dark:focus:text-neutral-200"
              placeholder="搜索"
              aria-label="Search"
              aria-describedby="button-addon1"/>

            <!--Search button-->
            <button
              class="relative z-[2] flex items-center rounded-none bg-brandColor px-6 py-1.5 text-xs font-medium uppercase leading-tight text-white shadow-md transition duration-150 ease-in-out hover:bg-red-500 hover:shadow-lg focus:bg-red-500 focus:shadow-lg focus:outline-none focus:ring-0"
              type="button"
              (click)="doSearch(searchInput.value)"
              id="button-search"
              data-te-ripple-init
              data-te-ripple-color="light">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 20 20"
                fill="currentColor"
                class="h-8 w-8">
                <path
                  fill-rule="evenodd"
                  d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z"
                  clip-rule="evenodd"/>
              </svg>
            </button>
          </div>
        </div>

        <!-- Right elements -->
        <div class="my-1 flex items-center lg:my-0">
          <div class="grid grid-cols-3 divide-x text-center text-zinc-500">
            <div class="px-5">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6" fill="currentColor" viewBox="0 0 576 512">
                <path
                  d="M385.2 167.6c6.4 0 12.6.3 18.8 1.1C387.4 90.3 303.3 32 207.7 32 100.5 32 13 104.8 13 197.4c0 53.4 29.3 97.5 77.9 131.6l-19.3 58.6 68-34.1c24.4 4.8 43.8 9.7 68.2 9.7 6.2 0 12.1-.3 18.3-.8-4-12.9-6.2-26.6-6.2-40.8-.1-84.9 72.9-154 165.3-154zm-104.5-52.9c14.5 0 24.2 9.7 24.2 24.4 0 14.5-9.7 24.2-24.2 24.2-14.8 0-29.3-9.7-29.3-24.2.1-14.7 14.6-24.4 29.3-24.4zm-136.4 48.6c-14.5 0-29.3-9.7-29.3-24.2 0-14.8 14.8-24.4 29.3-24.4 14.8 0 24.4 9.7 24.4 24.4 0 14.6-9.6 24.2-24.4 24.2zM563 319.4c0-77.9-77.9-141.3-165.4-141.3-92.7 0-165.4 63.4-165.4 141.3S305 460.7 397.6 460.7c19.3 0 38.9-5.1 58.6-9.9l53.4 29.3-14.8-48.6C534 402.1 563 363.2 563 319.4zm-219.1-24.5c-9.7 0-19.3-9.7-19.3-19.6 0-9.7 9.7-19.3 19.3-19.3 14.8 0 24.4 9.7 24.4 19.3 0 10-9.7 19.6-24.4 19.6zm107.1 0c-9.7 0-19.3-9.7-19.3-19.6 0-9.7 9.7-19.3 19.3-19.3 14.5 0 24.4 9.7 24.4 19.3.1 10-9.9 19.6-24.4 19.6z"/>
              </svg>
            </div>
            <div class="px-5">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6" fill="currentColor" viewBox="0 0 512 512">
                <path
                  d="M407 177.6c7.6-24-13.4-46.8-37.4-41.7-22 4.8-28.8-28.1-7.1-32.8 50.1-10.9 92.3 37.1 76.5 84.8-6.8 21.2-38.8 10.8-32-10.3zM214.8 446.7C108.5 446.7 0 395.3 0 310.4c0-44.3 28-95.4 76.3-143.7C176 67 279.5 65.8 249.9 161c-4 13.1 12.3 5.7 12.3 6 79.5-33.6 140.5-16.8 114 51.4-3.7 9.4 1.1 10.9 8.3 13.1 135.7 42.3 34.8 215.2-169.7 215.2zm143.7-146.3c-5.4-55.7-78.5-94-163.4-85.7-84.8 8.6-148.8 60.3-143.4 116s78.5 94 163.4 85.7c84.8-8.6 148.8-60.3 143.4-116zM347.9 35.1c-25.9 5.6-16.8 43.7 8.3 38.3 72.3-15.2 134.8 52.8 111.7 124-7.4 24.2 29.1 37 37.4 12 31.9-99.8-55.1-195.9-157.4-174.3zm-78.5 311c-17.1 38.8-66.8 60-109.1 46.3-40.8-13.1-58-53.4-40.3-89.7 17.7-35.4 63.1-55.4 103.4-45.1 42 10.8 63.1 50.2 46 88.5zm-86.3-30c-12.9-5.4-30 .3-38 12.9-8.3 12.9-4.3 28 8.6 34 13.1 6 30.8.3 39.1-12.9 8-13.1 3.7-28.3-9.7-34zm32.6-13.4c-5.1-1.7-11.4.6-14.3 5.4-2.9 5.1-1.4 10.6 3.7 12.9 5.1 2 11.7-.3 14.6-5.4 2.8-5.2 1.1-10.9-4-12.9z"/>
              </svg>
            </div>
            <div class="px-5">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5" fill="currentColor" viewBox="0 0 448 512">
                <path
                  d="M433.754 420.445c-11.526 1.393-44.86-52.741-44.86-52.741 0 31.345-16.136 72.247-51.051 101.786 16.842 5.192 54.843 19.167 45.803 34.421-7.316 12.343-125.51 7.881-159.632 4.037-34.122 3.844-152.316 8.306-159.632-4.037-9.045-15.25 28.918-29.214 45.783-34.415-34.92-29.539-51.059-70.445-51.059-101.792 0 0-33.334 54.134-44.859 52.741-5.37-.65-12.424-29.644 9.347-99.704 10.261-33.024 21.995-60.478 40.144-105.779C60.683 98.063 108.982.006 224 0c113.737.006 163.156 96.133 160.264 214.963 18.118 45.223 29.912 72.85 40.144 105.778 21.768 70.06 14.716 99.053 9.346 99.704z"/>
              </svg>
            </div>
          </div>
          <ng-container *ngIf="token$; else elseTemplate">
            <div class="relative" data-te-dropdown-ref>
              <button
                class="[word-wrap: break-word] my-[5px] mr-4 flex h-[32px] cursor-pointer items-center justify-between rounded-[16px] bg-[#eceff1] px-[12px] py-0 text-[13px] font-normal normal-case leading-loose text-[#4f4f4f] shadow-none transition-[opacity] duration-300 ease-linear hover:!shadow-none active:bg-[#cacfd1] dark:bg-neutral-600 dark:text-neutral-200"
                type="button"
                id="dropdownMenuSmallButton"
                data-te-dropdown-toggle-ref
                aria-expanded="false"
                data-te-ripple-init
                data-te-dropdownAnimation="off"
                data-te-ripple-color="light">
                <img
                  class="my-0 -ml-[12px] mr-[8px] h-[inherit] w-[inherit] rounded-[100%]"
                  src="https://tecdn.b-cdn.net/img/Photos/Avatars/avatar-6.webp"
                  alt="Contact Person" />
                {{profile$?.username}}
                <span class="ml-2 w-2">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 20 20"
                    fill="currentColor"
                    class="h-5 w-5">
                    <path
                      fill-rule="evenodd"
                      d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z"
                      clip-rule="evenodd" />
                  </svg>
                </span>
              </button>
              <ul
                class="absolute z-[1000] w-full py-1 float-left m-0 hidden min-w-max list-none overflow-hidden rounded-lg border-none bg-white bg-clip-padding text-left text-base shadow-lg dark:bg-neutral-700 [&[data-te-dropdown-show]]:block"
                aria-labelledby="dropdownMenuSmallButton"
                data-te-dropdown-menu-ref>
                <li>
                  <a
                    class="block w-full whitespace-nowrap bg-transparent px-4 py-2 text-sm font-normal text-center text-neutral-700 hover:bg-neutral-100 active:text-neutral-800 active:no-underline disabled:pointer-events-none disabled:bg-transparent disabled:text-neutral-400 dark:text-neutral-200 dark:hover:bg-neutral-600"
                    routerLink="/profile"
                    data-te-dropdown-item-ref
                  >个人中心</a>
                </li>
                <hr class="my-1 h-0 border border-t-0 border-solid border-neutral-700 opacity-25 dark:border-neutral-200" />
                <li>
                  <button
                    class="block w-full whitespace-nowrap bg-transparent px-4 py-2 text-sm font-normal text-neutral-700 hover:bg-neutral-100 active:text-neutral-800 active:no-underline disabled:pointer-events-none disabled:bg-transparent disabled:text-neutral-400 dark:text-neutral-200 dark:hover:bg-neutral-600"
                    type="button"
                    (click)="logout()"
                    data-te-dropdown-item-ref
                  >退出账户</button
                  >
                </li>
              </ul>
            </div>
          </ng-container>
          <ng-template #elseTemplate>
            <a routerLink="/login"
               class="inline-block rounded bg-gray-100 px-4 py-1 text-md font-normal uppercase leading-normal text-gray-600 transition duration-150 ease-in-out hover:bg-red-400 hover:text-white focus:bg-primary-600 focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:outline-none focus:ring-0 active:bg-primary-700 active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] dark:shadow-[0_4px_9px_-4px_rgba(59,113,202,0.5)] dark:hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)]"
               data-te-ripple-init data-te-ripple-color="light">
              登录
            </a>
          </ng-template>
        </div>
        <!-- Right elements -->
      </div>
      <!-- Container wrapper -->
    </div>
    <!-- Navbar -->
  </header>
  <nav class="bg-brandColor">
    <div class="container max-w-screen-xl w-full mx-auto">
      <ul class="list-style-none flex flex-col lg:flex-row">
        <li class="px-0">
          <a
            class="inline-block py-2 px-[2em] text-lg text-white transition duration-200
            hover:ease-in-out hover:bg-red-600
            dark:text-neutral-200 dark:hover:text-neutral-300 dark:focus:text-neutral-300
            [&.active]:bg-red-400 [&.active]:text-text-white dark:[&.active]:text-white"
            routerLink="/home"
            routerLinkActive="active"
            [routerLinkActiveOptions]="{exact: false}"
          >首页</a>
        </li>
        <li class="px-0">
          <a
            class="inline-block py-2 px-[2em] text-lg text-white transition duration-200
            hover:ease-in-out hover:bg-red-600
            dark:text-neutral-200 dark:hover:text-neutral-300 dark:focus:text-neutral-300
            [&.active]:bg-red-400 [&.active]:text-text-white dark:[&.active]:text-white"
            routerLink="/hot"
            routerLinkActive="active"
          >热搜</a>
        </li>
        <li class="px-0">
          <a
            class="inline-block py-2 px-[2em] text-lg text-white transition duration-200
            hover:ease-in-out hover:bg-red-600
            dark:text-neutral-200 dark:hover:text-neutral-300 dark:focus:text-neutral-300
            [&.active]:bg-red-400 [&.active]:text-text-white dark:[&.active]:text-white"
            routerLink="/worldwide"
            routerLinkActive="active"
          >国际</a>
        </li>
        <li class="px-0">
          <a
            class="inline-block py-2 px-[2em] text-lg text-white transition duration-200
            hover:ease-in-out hover:bg-red-600
            dark:text-neutral-200 dark:hover:text-neutral-300 dark:focus:text-neutral-300
            [&.active]:bg-red-400 [&.active]:text-text-white dark:[&.active]:text-white"
            routerLink="/zk"
            routerLinkActive="active"
          >智库</a>
        </li>
      </ul>
    </div>
  </nav>
</section>
