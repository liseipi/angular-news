<section class="fixed top-0 background-radial-gradient container-full mx-auto w-full dark:bg-neutral-800 shadow-[0_2px_16px_rgba(54,56,79,.06)]">
  <!-- Navbar -->
  <nav class="relative flex w-full items-center justify-between bg-white py-4 dark:bg-neutral-800 lg:flex-wrap lg:justify-start"
       data-te-navbar-ref>
    <!-- Container wrapper -->
    <div class="flex w-full flex-wrap items-center justify-between px-6">
      <div class="flex items-center">
        <!-- Toggle button -->
        <button
          class="block border-0 bg-transparent py-2 pr-2.5 text-neutral-500 hover:no-underline hover:shadow-none focus:no-underline focus:shadow-none focus:outline-none focus:ring-0 dark:text-neutral-200 lg:hidden"
          type="button" data-te-collapse-init data-te-target="#navbarSupportedContentY"
          aria-controls="navbarSupportedContentY" aria-expanded="false" aria-label="Toggle navigation">
          <span class="[&>svg]:w-7">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="h-7 w-7">
              <path fill-rule="evenodd"
                    d="M3 6.75A.75.75 0 013.75 6h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 6.75zM3 12a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 12zm0 5.25a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75a.75.75 0 01-.75-.75z"
                    clip-rule="evenodd" />
            </svg>
          </span>
        </button>

        <!-- Navbar Brand -->
        <a class="text-primary dark:text-primary-400 flex mr-4 items-center" href="#!">
          <span class="[&>svg]:ml-2 [&>svg]:mr-3 [&>svg]:h-6 [&>svg]:w-6 [&>svg]:lg:ml-0">
            <img ngSrc="assets/logo.svg" class="w-7" alt="logo" height="512" width="512">
          </span>
          <strong class=" ml-1 text-[#e44f51]">共享资讯</strong>
        </a>
      </div>

      <div class="inline-flex justify-start items-center">
        <!-- Collapsible wrapper -->
        <div class="!visible hidden flex-grow basis-[100%] items-center lg:!flex lg:basis-auto" id="navbarSupportedContentY" data-te-collapse-item>
          <!-- Left links -->
          <ul class="mr-auto lg:flex lg:flex-row" data-te-navbar-nav-ref>
            <li data-te-nav-item-ref>
              <a class="block py-2 pr-2 text-neutral-500 transition duration-150 ease-in-out hover:text-neutral-600 focus:text-neutral-600 disabled:text-black/30 dark:text-neutral-200 dark:hover:text-neutral-300 dark:focus:text-neutral-300 dark:disabled:text-white/30 lg:px-2 [&.active]:text-black/80 dark:[&.active]:text-white/80"
                 routerLink="/hot" data-te-nav-link-ref data-te-ripple-init data-te-ripple-color="light">热搜</a>
            </li>
            <li data-te-nav-item-ref>
              <a class="block py-2 pr-2 text-neutral-500 transition duration-150 ease-in-out hover:text-neutral-600 focus:text-neutral-600 disabled:text-black/30 dark:text-neutral-200 dark:hover:text-neutral-300 dark:focus:text-neutral-300 dark:disabled:text-white/30 lg:px-2 [&.active]:text-black/80 dark:[&.active]:text-white/80"
                 routerLink="/worldwide" data-te-nav-link-ref data-te-ripple-init data-te-ripple-color="light">国际</a>
            </li>
            <li class="mb-2 lg:mb-0" data-te-nav-item-ref>
              <a class="block py-2 pr-2 text-neutral-500 transition duration-150 ease-in-out hover:text-neutral-600 focus:text-neutral-600 disabled:text-black/30 dark:text-neutral-200 dark:hover:text-neutral-300 dark:focus:text-neutral-300 dark:disabled:text-white/30 lg:px-2 [&.active]:text-black/80 dark:[&.active]:text-white/80"
                 routerLink="/zk" data-te-nav-link-ref data-te-ripple-init data-te-ripple-color="light">智库</a>
            </li>
          </ul>
          <!-- Left links -->
        </div>
        <!-- Collapsible wrapper -->

        <div class="relative pl-2">
          <div class="flex flex-wrap items-stretch rounded-full bg-zinc-100 focus:border-primary dark:border-neutral-600 dark:focus:border-primary">
            <input
              type="search"
              id="search"
              #searchInput
              class="relative m-0 block w-[5rem] min-w-0 flex-auto  bg-transparent bg-clip-padding px-3 py-2 text-base font-normal leading-[1.2] text-neutral-700 outline-none transition-all duration-500 ease-in-out focus:z-[3]  focus:text-neutral-700 focus:outline-none focus:w-[15rem] dark:text-neutral-200 dark:placeholder:text-neutral-200 "
              placeholder="搜索"
              aria-label="Search"
              aria-describedby="button-addon2" />
            <!--Search button-->
            <span
              (click)="doSearch(searchInput.value)"
              class="input-group-text flex items-center whitespace-nowrap rounded pr-3 py-1 text-center text-base font-normal text-neutral-500 dark:text-neutral-200 cursor-pointer hover:text-brandColor"
              id="basic-addon2">
              <i class="not-italic mr-1 text-zinc-400">|</i>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 20 20"
                fill="currentColor"
                class="h-5 w-5">
                <path
                  fill-rule="evenodd"
                  d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z"
                  clip-rule="evenodd" />
              </svg>
            </span>
          </div>
        </div>
      </div>


      <!-- Right elements -->
      <div class="my-1 flex items-center lg:my-0 ml-auto">
        <a routerLink="/" class="px-6 text-md">首页</a>
        <ng-container *ngIf="token$; else elseTemplate">
          <div class="relative" data-te-dropdown-ref>
            <button
              class="[word-wrap: break-word] my-[5px] mr-4 flex h-[32px] cursor-pointer items-center justify-between rounded-[16px] bg-[#eceff1] px-[12px] py-0 text-[13px] font-normal normal-case leading-loose text-[#4f4f4f] shadow-none transition-[opacity] duration-300 ease-linear hover:!shadow-none active:bg-[#cacfd1] dark:bg-neutral-600 dark:text-neutral-200"
              type="button"
              id="dropdownMenuSmallButton"
              data-te-dropdown-toggle-ref
              aria-expanded="false"
              data-te-ripple-init
              data-te-dropdownAnimation="off"
              data-te-ripple-color="light">
              <img
                class="my-0 -ml-[12px] mr-[8px] h-[inherit] w-[inherit] rounded-[100%]"
                src="https://tecdn.b-cdn.net/img/Photos/Avatars/avatar-6.webp"
                alt="Contact Person" />
              {{profile$?.full_name}}
              <span class="ml-2 w-2">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 20 20"
                    fill="currentColor"
                    class="h-5 w-5">
                    <path
                      fill-rule="evenodd"
                      d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z"
                      clip-rule="evenodd" />
                  </svg>
                </span>
            </button>
            <ul
              class="absolute z-[1000] w-full py-1 float-left m-0 hidden min-w-max list-none overflow-hidden rounded-lg border-none bg-white bg-clip-padding text-left text-base shadow-lg dark:bg-neutral-700 [&[data-te-dropdown-show]]:block"
              aria-labelledby="dropdownMenuSmallButton"
              data-te-dropdown-menu-ref>
              <li>
                <a
                  class="block w-full whitespace-nowrap bg-transparent px-4 py-2 text-sm font-normal text-center text-neutral-700 hover:bg-neutral-100 active:text-neutral-800 active:no-underline disabled:pointer-events-none disabled:bg-transparent disabled:text-neutral-400 dark:text-neutral-200 dark:hover:bg-neutral-600"
                  routerLink="/profile"
                  data-te-dropdown-item-ref
                >个人中心</a>
              </li>
              <hr class="my-1 h-0 border border-t-0 border-solid border-neutral-700 opacity-25 dark:border-neutral-200" />
              <li>
                <button
                  class="block w-full whitespace-nowrap bg-transparent px-4 py-2 text-sm font-normal text-neutral-700 hover:bg-neutral-100 active:text-neutral-800 active:no-underline disabled:pointer-events-none disabled:bg-transparent disabled:text-neutral-400 dark:text-neutral-200 dark:hover:bg-neutral-600"
                  type="button"
                  (click)="logout()"
                  data-te-dropdown-item-ref
                >退出账户</button
                >
              </li>
            </ul>
          </div>
        </ng-container>
        <ng-template #elseTemplate>
          <a routerLink="/login"
             class="inline-block rounded bg-gray-100 px-4 py-1 text-md font-normal uppercase leading-normal text-gray-600 transition duration-150 ease-in-out hover:bg-red-400 hover:text-white focus:bg-primary-600 focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:outline-none focus:ring-0 active:bg-primary-700 active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] dark:shadow-[0_4px_9px_-4px_rgba(59,113,202,0.5)] dark:hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)]"
             data-te-ripple-init data-te-ripple-color="light">
            登录
          </a>
        </ng-template>
      </div>
      <!-- Right elements -->
    </div>
    <!-- Container wrapper -->
  </nav>
  <!-- Navbar -->
</section>
